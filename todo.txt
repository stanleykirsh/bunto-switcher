0. сброс буфера на щелчок мыши.

0. Асинхронное переключение. 
Пока происходит переключение раскладки могут быть нажаты другие буквенные клавиши.
Когда переключение завершится, то печатать все что накопилось в буфере пока выполнялось переключение.

0. Блокировка листенера через with ... as

0. в качестве триггера для переключения использовать последний символ из буфера.
Потому что если написано 'зкште(', то последний символ будет '9', а в буффере 'shift+9'.

##########################################

0. Кастомный переключатель и получатель раскладки
# получить раскладку
# gsettings get org.gnome.desktop.input-sources mru-sources
# [('xkb', 'se'), ('xkb', 'us')]
# gsettings get org.gnome.desktop.input-sources mru-sources | sed -r "s/\S*\s'([^']+).*/\1/"

# установить раскладку
# gsettings set org.gnome.desktop.input-sources sources "[('xkb', 'us')]"
# gsettings set org.gnome.desktop.input-sources sources "[('xkb', 'ru')]"
# gsettings set org.gnome.desktop.input-sources sources "[('xkb', 'us'), ('xkb', 'ru')]"
# gsettings set org.gnome.desktop.input-sources sources "[('xkb', 'ru'), ('xkb', 'us')]"

# Если посмотреть что именно происходит на переключении раскладок по хоткею, то там:
# gsettings monitor org.gnome.desktop.input-sources
# mru-sources: [('xkb', 'ru'), ('xkb', 'us')]
# mru-sources: [('xkb', 'us'), ('xkb', 'ru')]
# mru-sources: [('xkb', 'ru'), ('xkb', 'us')]
# mru-sources: [('xkb', 'us'), ('xkb', 'ru')]

похоже что это не поможет. потому что есть старый баг в gnome DE. тормозное переключение раскладки.